<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="~{head :: head}"></head>
<title>Timesheets & Invoices App</title>

<body>
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-12">
            <div class="card">
                <div class="card-body p-4">
                    <h2 class="text-center mb-4">Hourly Track</h2>

                    <div class="text-center mb-3" style="color: #ffc008; font-weight: bold;">
                        <p>Current user: <span sec:authentication="name" style="color: #ffc008;"></span></p>
                        <p>Access level:
                            <span th:with="auth=${#authentication.authorities[0]}" style="color: #ffc008;">
                                <span th:text="${#strings.replace(auth, 'ROLE_', '')}"></span>
                            </span>
                        </p>
                    </div>

                    <div class="d-grid gap-3">
                        <a th:href="@{/timesheets/new}"
                           class="nav-button text-center text-decoration-none">
                            New Timesheet
                        </a>
                        <a th:href="@{/invoices/items}"
                           class="nav-button text-center text-decoration-none">
                            Create Invoice
                        </a>
                        <a th:href="@{/timesheets/list}"
                           class="nav-button text-center text-decoration-none">
                            Timesheets
                        </a>
                        <a th:href="@{/invoices/archive}"
                           class="nav-button text-center text-decoration-none">
                            Invoices
                        </a>
                        <a th:href="@{/clients}"
                           class="nav-button text-center text-decoration-none"
                           sec:authorize="hasRole('ADMIN')">
                            Clients
                        </a>
                        <a th:href="@{/invoices/archive/pdf}"
                           class="nav-button text-center text-decoration-none">
                            Invoices PDF
                        </a>
                        <a th:href="@{/users}"
                           class="nav-button text-center text-decoration-none"
                           sec:authorize="hasRole('ADMIN')">
                            Users Management
                        </a>

                        <form th:action="@{/logout}" method="post">
                            <button type="submit" class="nav-button w-100">Logout</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
